# AI 페르소나 CRM 마케팅 자동화 시스템 설계서
**Project:** Persona-based CRM Marketing Dashboard  
**Status:** Draft (Specification)

---

## 1. 업무 프로세스 (Workflow)

| 순서 | 시간 | 주체 | 내용 |
| :--- | :--- | :--- | :--- |
| **01** | 오전 12:00 | 시스템 | AI 기반 CRM 마케팅 메시지 자동 생성 |
| **02** | 오전 09:00 | 시스템 | 마케터 대상 Slack 알림 발송 ("YYYY-MM-DD 발송 예정 메시지를 확인하세요!") |
| **03** | 즉시 | 마케터 | Slack 바로가기 링크를 통해 대시보드([오늘 발송 예약] 탭) 접속 |
| **04** | 업무 시간 중 | 마케터 | 메시지 검수, 페르소나 분석 및 발송 결과 모니터링/재처리 |

---

## 2. 화면 설계 (Information Architecture)

### [TAB 1] 오늘 발송 예약 (Today's Schedule)
*마케터가 당일 발송될 콘텐츠를 최종 확인하는 공간입니다.*

#### 1) 목록 화면 (Table)
* **목적**: Slack 알림 직후, 당일 발송건을 빠르게 점검하고 **운영 제어(시간 변경/일시정지/취소)** 를 수행한다.
* **구성 항목(권장)**:
    - 대표 페르소나(설명 포함)
    - 발송 일자 및 시간
    - 발송까지 남은 시간(임박 건 우선 확인)
    - 발송 채널(푸시/카카오톡 알림톡)
    - 대상 규모(명)
    - 상품명(상세 URL/딥링크)
    - 생성된 메시지(조회 전용): **title / description** 분리(목록에서는 title 중심 + description 일부 노출)
    - 상태(예: 발송 대기/확인 필요/일시정지/발송 취소/발송 완료)
    - 마지막 변경자/변경 시각(감사/책임 추적)

#### 2) 상세 화면 (Detail)
* **페르소나 프로필**:
    - 대표 페르소나 한 줄 정의 (e.g. 바쁜 워커홀릭 20대 여성)
    - 상세 속성: 유저 연령대, 주력 카테고리, 구매방식, 브랜드 충성도, 트렌드 키워드, 핵심 키워드, 가격 민감도, 혜택 민감도
* **상품 및 콘텐츠**:
    - 상품명 및 아모레몰 상세페이지 이동 링크
    - 생성된 메시지 (조회 전용): **title / description** 분리
* **발송 정보**:
    - 발송 대상: 회원 기준 유저 ID 리스트
    - 발송 채널: 푸시 / 카카오톡 알림톡
* **운영 액션(권한/정책 반영)**:
    - 발송 시간 변경(2단계 확인: 변경 전/후 시각, 채널, 대상 규모 요약)
    - 일시정지/재개(임박/대상 규모 큰 건은 경고)
    - 발송 취소(취소 사유 기록 권장)
* **전환 규칙**:
    - 발송 완료/시간 경과 시 TAB1에서는 조회 중심으로만 남기거나, 기본적으로 TAB3로 이동(동일 발송건 ID로 연결)

---

### [TAB 2] 페르소나 유형 (Persona Analysis)
*전체 고객군 내의 페르소나 분포와 특성을 시각적으로 파악합니다.*

#### 1) 메인 화면 (Visual)
* **목적**: 페르소나 분포를 “해석 가능한 기준(모수)”으로 확인하고, 캠페인/메시지 운영과 연결되는 인사이트를 얻는다.
* **분석 기준(필수)**:
    - 전체 고객군 기준
    - 특정 기간 발송 대상 기준
    - 채널/카테고리/상품군 등 발송 맥락 기준(필터)
* **표현 방식(권장)**:
    - **워드클라우드**: 빠른 탐색용(비중이 높을수록 키워드 크기 확대)
    - **대안 뷰(리스트/차트)**: 정렬/검색, 비중(%) 및 모수(n) 노출로 정확한 비교 가능
    - 상위/급증/급감 등 정렬 옵션(선택)

#### 2) 페르소나 상세 (Detail)
* 특정 키워드(페르소나) 선택 시 해당 유형의 속성 데이터 출력:
    - 유저 연령대, 주력 카테고리, 구매방식, 브랜드 충성도, 트렌드 키워드, 핵심 키워드, 가격 민감도, 혜택 민감도
* **드릴다운(권장)**:
    - 대표 메시지 샘플(읽기 전용)
    - 관련 발송건 바로가기(TAB3 상세로 이동, 동일 발송건 ID 기준)

---

### [TAB 3] 발송 추이 (Dispatch Trends)
*기 발송된 메시지의 성공 여부를 확인하고 사후 조치를 취합니다.*

#### 1) 목록 화면 (Table)
* **목적**: 발송 이후 상태를 모니터링하고, 실패 원인을 분류해 필요한 후속 조치(재처리 요청)를 수행한다.
* **구성 항목(권장, 발송건 단위)**:
    - 대표 페르소나
    - 발송 일자 및 시간
    - 상품명
    - 메시지(요약): **title / description** 중 title 중심 노출
    - 결과 요약: 성공 n / 오류 n / 수신거부 n
    - 상세 보기(드릴다운)

#### 2) 상세 화면 및 액션 (Detail & Action)
* **발송 상태 상세**:
    - **성공**: 정상 발송 완료
    - **실패 원인 구분**:
        - **오류**: 시스템 발송 실패, 파싱 오류 등 (재처리 가능 건)
        - **수신 거부**: 유저 차단 (재처리 제외 건)
* **데이터 관리**:
    - 실패자 유저 ID 리스트 노출(유저 단위 상태 포함: 오류/수신거부)
* **주요 기능**:
    - **재처리 요청(유저 단위)**:
        - 상세 화면에서 실패자 중 **'오류' 유저만 선택 가능**
        - 선택한 유저에 대해 [재처리 요청] 수행(중복 요청 방지 및 결과 피드백 포함 권장)

---

## 3. 예외 처리 및 로직 (Policy)

1. **데이터 업데이트**: 오전 12시에 생성되는 메시지는 전일 고객 데이터를 기반으로 최신화된 페르소나 알고리즘을 반영한다.
2. **재처리 정책**: 
    - '오류'로 분류된 실패 건만 재처리 명단으로 이관한다.
    - '수신 거부' 고객은 마케팅 윤리 및 정책에 따라 재처리 하지 않지만, 영구 제외하진 않는다.
3. **링크 연동**: 모든 상품명은 아모레몰 서비스의 상세 URL과 딥링크로 연결되어야 한다.

---

## 4. 탭 간 일관성 규칙 (Cross-tab Consistency)

1. **식별자(권장)**:
    - 발송건 ID(캠페인/메시지 단위): TAB1/TAB3의 기본 단위
    - 유저 발송 로그 ID(또는 유저 ID): TAB3 상세에서 재처리 선택 단위
2. **상태 표현 분리**:
    - TAB1: 운영 상태(발송 대기/확인 필요/일시정지/발송 취소/발송 완료)
    - TAB3: 결과 상태(성공/실패), 실패의 세부 원인(오류/수신거부)은 유저 단위로 분리 표기
3. **탭 간 이동(딥링크)**:
    - TAB1의 특정 발송건 → 발송 이후 TAB3의 동일 발송건 상세로 이동 가능해야 한다.
    - TAB2의 특정 페르소나 → 관련 발송건 목록/상세(TAB3)로 이동 가능해야 한다.
4. **권한 기반 UI**:
    - TAB1에서 메시지/대상/채널은 조회 전용이며, 변경이 필요한 경우 정책/승인 프로세스를 별도 정의한다.

---

update. 12.30
### 오늘 발송 예약 Page

- table row 선택 → 발송 예약 정보 상세 노출
    - page 이동 말고 drawer로 전환
    (테이블에서 각각의 메시지별 전환이 용이해야하는데, 페이지보다 drawer가 효율적이기 때문)
- Pagination → Default 10개 노출
    - 하루 발송 예약이 몇건이냐에 따라 추가 논의 후 조정 가능
- 조건 : 금일 발송 데이터만 노출

|  | 예시 데이터 | Action | Filter |
| --- | --- | --- | --- |
| ID | 1, 2, 3 … |  |  |
| 페르소나 | 바쁜 워커홀릭 20대 여성 | 선택 → 페르소나 유형 상세 노출 |  |
| 발송 일시 + 시간 | YYYY-MM-DD 00:00 | 수정 선택 → 시간 변경 Modal 노출 | DatePicker |
| 발송 채널 | 푸시 or 알림톡 |  |  |
| 대상 규모 | n명 |  |  |
| 상품명 | {브랜드명} {제품명} | 선택 → 아모레몰 상품 상세로 이동 | Search |
| 메시지 Title | 하루 마무리는 모공·피지 케어 |  |  |
| 메시지 Description | 모공·피지 케어로 주말 약속 전 피부를 정리해요 |  |  |
| 발송 상태 | 대기, 취소, 완료 |  | Dropdown |

### 오늘 발송 예약 상세 Drawer

- CTA : 시간 변경, 취소 → 선택 시 Drawer 위에 Modal 노출

|  | 예시 데이터 | Action |
| --- | --- | --- |
| ID | 1, 2, 3 … |  |
| 페르소나 | 바쁜 워커홀릭 20대 여성 | 선택 → 페르소나 유형 상세 노출 |
| 발송 일시 + 시간 | YYYY-MM-DD 00:00 |  |
| 발송 채널 | 푸시 or 알림톡 |  |
| 대상 규모 | n명 |  |
| 상품명 | {브랜드명} {제품명} | 선택 → 아모레몰 상품 상세로 이동 |
| 메시지 Title | 하루 마무리는 모공·피지 케어 |  |
| 메시지 Description | 모공·피지 케어로 주말 약속 전 피부를 정리해요 |  |
| 발송 상태 | 대기, 취소, 완료 |  |
| 추천 이유 | {text} |  |
| ———————————————- | ———————————————- | ———————————————- |
| 시간 변경 |  | 시간 변경 Modal 노출 |
| 취소 |  | 발송 취소 Confirm Modal 노출 |

### 페르소나 유형 상세 Drawer

- 워드클라우드에서 특정 페르소나 선택 시 → Drawer 노출

|  | 예시 데이터 |  |
| --- | --- | --- |
| 페르소나 |  |  |
| 유저 연령대 |  |  |
| 주력 카테고리 |  |  |
| 구매 방식 |  |  |
| 브랜드 충성도 |  |  |
| 트렌드 키워드 |  |  |
| 핵심 키워드 |  |  |
| 가격 민감도 |  |  |
| 혜택 민감도 |  |  |
| 발송 히스토리 | 최근 발송 5개 노출 | 자세히보기 → 새창으로 이동 |

### 발송 추이 확인 Page

- table row 선택 → 발송 예약 정보 상세 노출
    - page 이동 말고 drawer로 전환
- Pagination → Default 10개 노출
- 조건 : 발송한 모든 데이터 노출

|  | 예시 데이터 | Action | Filter |
| --- | --- | --- | --- |
| ID | 1, 2, 3 … |  |  |
| 페르소나 | 바쁜 워커홀릭 20대 여성 | 선택 → 페르소나 유형 상세 노출 |  |
| 발송 일시 + 시간 | YYYY-MM-DD 00:00 | 수정 선택 → 시간 변경 Modal 노출 | DatePicker |
| 발송 채널 | 푸시 or 알림톡 |  |  |
| 대상 규모 | n명 |  |  |
| 상품명 | {브랜드명} {제품명} | 선택 → 아모레몰 상품 상세로 이동 | Search |
| 메시지 Title | 하루 마무리는 모공·피지 케어 |  |  |
| 메시지 Description | 모공·피지 케어로 주말 약속 전 피부를 정리해요 |  |  |
| 발송 상태 | 성공 n건, 실패 n건 |  | Dropdown |

### 발송 추이 확인 Drawer

|  | 예시 데이터 | Action |
| --- | --- | --- |
| ID | 1, 2, 3 … |  |
| 페르소나 | 바쁜 워커홀릭 20대 여성 | 선택 → 페르소나 유형 상세 노출 |
| 발송 일시 + 시간 | YYYY-MM-DD 00:00 |  |
| 발송 채널 | 푸시 or 알림톡 |  |
| 대상 규모 | n명 |  |
| 상품명 | {브랜드명} {제품명} | 선택 → 아모레몰 상품 상세로 이동 |
| 메시지 Title | 하루 마무리는 모공·피지 케어 |  |
| 메시지 Description | 모공·피지 케어로 주말 약속 전 피부를 정리해요 |  |
| 발송 상태 | 성공 n건, 실패 n건 |  |
| 추천 이유 | {text} |  |
| {발송 상태 실패}
이름 |  | 실패자 명단 → 재처리 요청할 대상 선택 |
| {발송 상태 실패}
실패 사유 | 오류 (발송 실패, 파싱 오류 등), 수신 거부 | * 수신거부 select → disabled |
| ———————————————- | ———————————————- | ———————————————- |
| 재처리 요청 |  | 재처리 요청 Confirm Modal 노출 |